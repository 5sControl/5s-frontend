{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/git/reactapp/src/pages/Reports/ReportsPage.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport axios from \"axios\";\nimport { useCookies } from \"react-cookie\";\nimport { Reports } from \"../../components/Reports\";\nimport { getIsInternet } from \"../../functions/getURL\";\nimport { proxy } from \"../../api/proxy\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport const ReportPage = _ref => {\n  _s();\n  let {\n    page\n  } = _ref;\n  const [data, setData] = useState(false);\n  const [cookies, setCookie, removeCookie] = useCookies([\"token\"]);\n  const paginator = page => {\n    if (getIsInternet(window.location.host)) {\n      proxy(API_DASHBOARD_PAGE_I(page), \"GET\", {\n        'Authorization': cookies.token\n      }).then(el => {\n        console.log(el);\n        el.data.detail === 'Authentication credentials were not provided.' || el.data.detail === \"Given token not valid for any token type\" ? setData(0) : setData(el.data);\n      });\n    } else {\n      axios.get(`http://${window.location.hostname}${API_DASHBOARD_PAGE(page)}`, {\n        headers: {\n          'Authorization': cookies.token\n        }\n      }).then(el => {\n        console.log(el);\n        el.data.detail === 'Authentication credentials were not provided.' || el.data.detail === \"Given token not valid for any token type\" ? setData(0) : setData(el.data);\n      });\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: !!data && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"dashboard__count\",\n          children: [data.count, \"\\xA0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"dashboard__span\",\n          children: \" reports generated today\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Reports\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Reports, {\n        data: data,\n        paginator: e => paginator(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }, this)\n  }, void 0, false);\n};\n_s(ReportPage, \"YnVeNpP1JPMy4PlN2YAEJKMAgZ8=\", false, function () {\n  return [useCookies];\n});\n_c = ReportPage;\nvar _c;\n$RefreshReg$(_c, \"ReportPage\");","map":{"version":3,"names":["useState","axios","useCookies","Reports","getIsInternet","proxy","ReportPage","page","data","setData","cookies","setCookie","removeCookie","paginator","window","location","host","API_DASHBOARD_PAGE_I","token","then","el","console","log","detail","get","hostname","API_DASHBOARD_PAGE","headers","count","e"],"sources":["/Users/user/Desktop/git/reactapp/src/pages/Reports/ReportsPage.jsx"],"sourcesContent":["import { useState } from \"react\"\nimport axios from \"axios\"\nimport { useCookies } from \"react-cookie\"\nimport { Reports } from \"../../components/Reports\"\n\nimport { getIsInternet } from \"../../functions/getURL\"\nimport { proxy } from \"../../api/proxy\"\nexport const ReportPage = ({page}) => {\n\n    const [data, setData] = useState(false)\n    const [cookies, setCookie, removeCookie] = useCookies([\"token\"])\n\n    const paginator = (page) =>{\n        if (getIsInternet(window.location.host)){\n    \n          proxy(API_DASHBOARD_PAGE_I(page), \"GET\", {\n            'Authorization': cookies.token\n          })\n            .then(el => {\n              console.log(el)\n                el.data.detail === 'Authentication credentials were not provided.' || el.data.detail === \"Given token not valid for any token type\" ? setData(0) : setData(el.data)\n              })\n        }\n        else{\n          axios.get(`http://${window.location.hostname}${API_DASHBOARD_PAGE(page)}`,{\n                headers: {\n                  'Authorization': cookies.token\n                },\n              })\n            .then(el => {\n              console.log(el)\n                el.data.detail === 'Authentication credentials were not provided.' || el.data.detail === \"Given token not valid for any token type\" ? setData(0) : setData(el.data)\n              })\n          }\n      }\n      \n    return (\n       <>\n        {\n        !!data  &&  \n          <div className='dashboard'>\n            <h1>Dashboard</h1>\n            <h2>\n              <span className='dashboard__count'>{data.count}&nbsp;</span>\n              <span className='dashboard__span'> reports generated today</span>\n            </h2>\n            <h3>Reports</h3>\n            <Reports \n              data={data}\n              paginator={(e) =>paginator(e)}\n              />\n          </div>\n     }\n       </>\n    )\n}"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,UAAU,QAAQ,cAAc;AACzC,SAASC,OAAO,QAAQ,0BAA0B;AAElD,SAASC,aAAa,QAAQ,wBAAwB;AACtD,SAASC,KAAK,QAAQ,iBAAiB;AAAA;AAAA;AACvC,OAAO,MAAMC,UAAU,GAAG,QAAY;EAAA;EAAA,IAAX;IAACC;EAAI,CAAC;EAE7B,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EACvC,MAAM,CAACU,OAAO,EAAEC,SAAS,EAAEC,YAAY,CAAC,GAAGV,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC;EAEhE,MAAMW,SAAS,GAAIN,IAAI,IAAI;IACvB,IAAIH,aAAa,CAACU,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC,EAAC;MAEtCX,KAAK,CAACY,oBAAoB,CAACV,IAAI,CAAC,EAAE,KAAK,EAAE;QACvC,eAAe,EAAEG,OAAO,CAACQ;MAC3B,CAAC,CAAC,CACCC,IAAI,CAACC,EAAE,IAAI;QACVC,OAAO,CAACC,GAAG,CAACF,EAAE,CAAC;QACbA,EAAE,CAACZ,IAAI,CAACe,MAAM,KAAK,+CAA+C,IAAIH,EAAE,CAACZ,IAAI,CAACe,MAAM,KAAK,0CAA0C,GAAGd,OAAO,CAAC,CAAC,CAAC,GAAGA,OAAO,CAACW,EAAE,CAACZ,IAAI,CAAC;MACrK,CAAC,CAAC;IACR,CAAC,MACG;MACFP,KAAK,CAACuB,GAAG,CAAE,UAASV,MAAM,CAACC,QAAQ,CAACU,QAAS,GAAEC,kBAAkB,CAACnB,IAAI,CAAE,EAAC,EAAC;QACpEoB,OAAO,EAAE;UACP,eAAe,EAAEjB,OAAO,CAACQ;QAC3B;MACF,CAAC,CAAC,CACHC,IAAI,CAACC,EAAE,IAAI;QACVC,OAAO,CAACC,GAAG,CAACF,EAAE,CAAC;QACbA,EAAE,CAACZ,IAAI,CAACe,MAAM,KAAK,+CAA+C,IAAIH,EAAE,CAACZ,IAAI,CAACe,MAAM,KAAK,0CAA0C,GAAGd,OAAO,CAAC,CAAC,CAAC,GAAGA,OAAO,CAACW,EAAE,CAACZ,IAAI,CAAC;MACrK,CAAC,CAAC;IACN;EACJ,CAAC;EAEH,oBACG;IAAA,UAEC,CAAC,CAACA,IAAI,iBACJ;MAAK,SAAS,EAAC,WAAW;MAAA,wBACxB;QAAA,UAAI;MAAS;QAAA;QAAA;QAAA;MAAA,QAAK,eAClB;QAAA,wBACE;UAAM,SAAS,EAAC,kBAAkB;UAAA,WAAEA,IAAI,CAACoB,KAAK,EAAC,MAAM;QAAA;UAAA;UAAA;UAAA;QAAA,QAAO,eAC5D;UAAM,SAAS,EAAC,iBAAiB;UAAA,UAAC;QAAwB;UAAA;UAAA;UAAA;QAAA,QAAO;MAAA;QAAA;QAAA;QAAA;MAAA,QAC9D,eACL;QAAA,UAAI;MAAO;QAAA;QAAA;QAAA;MAAA,QAAK,eAChB,QAAC,OAAO;QACN,IAAI,EAAEpB,IAAK;QACX,SAAS,EAAGqB,CAAC,IAAIhB,SAAS,CAACgB,CAAC;MAAE;QAAA;QAAA;QAAA;MAAA,QAC5B;IAAA;MAAA;MAAA;MAAA;IAAA;EACA,iBAEN;AAEV,CAAC;AAAA,GAhDYvB,UAAU;EAAA,QAGwBJ,UAAU;AAAA;AAAA,KAH5CI,UAAU;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}