{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/git/reactapp/src/pages/authorization/Authorization.jsx\",\n  _s = $RefreshSig$();\nimport './Authorization.scss';\nimport logo from '../../assets/svg/icon.svg';\nimport { useEffect, useState } from 'react';\nimport { proxyPOST } from '../../api/proxy';\nimport { API_AUTH } from '../../api/api';\nimport { useCookies } from 'react-cookie';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Authorization = () => {\n  _s();\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [correctEmail, setCorrectEmail] = useState(false);\n  const [correctPassword, setCorrectPassword] = useState(false);\n  const [errorResponse, setErrorResponse] = useState(false);\n  const [cookies, setCookie] = useCookies(['name']);\n\n  // const validate = (text) => {\n  //     let reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w\\w+)+$/;\n  //     if (reg.test(text) === false) {\n  //       setCorrectEmail(false)\n  //       setEmail(text)\n  //       return false;\n  //     }\n  //     else {\n  //       setEmail(text)\n  //       setCorrectEmail(true)\n  //     }\n  //   }\n\n  useEffect(() => {\n    if (password.length > 4 && password.length < 20) {\n      setCorrectPassword(true);\n    } else {\n      setCorrectPassword(false);\n    }\n  }, [password]);\n  useEffect(() => {\n    if (email.length > 4 && email.length < 20) {\n      setCorrectEmail(true);\n      // setCookie('name', \"JWT eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNjc1OTU0NTAzLCJqdGkiOiI4N2NlYjIwNTg2YWM0YzUyYTM0MGYzMTk3ODIyZTZiMiIsInVzZXJfaWQiOjF9.cQsQQW6FS2nrN2oR7mQ2AgyH_WJ7lfrmP7KitisQz2Q\", { path: '/'});\n    } else {\n      setCorrectEmail(false);\n    }\n  }, [email]);\n  const post = () => {\n    proxyPOST(API_AUTH, {\n      \"username\": email,\n      \"password\": password\n    }).then((response, reject) => {\n      if (response.status === 200) {\n        console.log(response.data.access);\n      }\n    }).catch(() => {\n      setErrorResponse(true);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"authorization\",\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: logo,\n      alt: \"logo\",\n      className: \"authorization__logo\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"authorization__title\",\n      children: \"Sign in to 5S Control\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"authorization__container\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter Email\",\n        className: \"authorization__input\",\n        value: email,\n        onChange: e => setEmail(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), !correctEmail && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"authorization__error\",\n        children: \"Email isn't correct!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Password\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        className: \"authorization__input\",\n        placeholder: \"Enter Password\",\n        value: password,\n        onChange: e => setPassword(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 13\n      }, this), !correctPassword && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"authorization__error\",\n        children: \"This field is required\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 34\n      }, this), errorResponse && /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"authorization__error\",\n        children: \"Incorrect email or password. Please, try again.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 31\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"authorization__button\",\n        onClick: post,\n        children: \"Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 5\n  }, this);\n};\n_s(Authorization, \"OV/lZq0iETN/3jaYwwgc/yh9uBo=\", false, function () {\n  return [useCookies];\n});\n_c = Authorization;\nvar _c;\n$RefreshReg$(_c, \"Authorization\");","map":{"version":3,"names":["logo","useEffect","useState","proxyPOST","API_AUTH","useCookies","Authorization","email","setEmail","password","setPassword","correctEmail","setCorrectEmail","correctPassword","setCorrectPassword","errorResponse","setErrorResponse","cookies","setCookie","length","post","then","response","reject","status","console","log","data","access","catch","e","target","value"],"sources":["/Users/user/Desktop/git/reactapp/src/pages/authorization/Authorization.jsx"],"sourcesContent":["import './Authorization.scss'\n\nimport logo from '../../assets/svg/icon.svg'\nimport { useEffect, useState } from 'react'\nimport { proxyPOST } from '../../api/proxy';\nimport { API_AUTH } from '../../api/api';\nimport { useCookies } from 'react-cookie';\n\nexport const Authorization = () => {\n\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n    const [correctEmail, setCorrectEmail] = useState(false)\n    const [correctPassword, setCorrectPassword] = useState(false)\n    const [errorResponse, setErrorResponse] = useState(false)\n    const [cookies, setCookie] = useCookies(['name']);\n\n    // const validate = (text) => {\n    //     let reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w\\w+)+$/;\n    //     if (reg.test(text) === false) {\n    //       setCorrectEmail(false)\n    //       setEmail(text)\n    //       return false;\n    //     }\n    //     else {\n    //       setEmail(text)\n    //       setCorrectEmail(true)\n    //     }\n    //   }\n\n      useEffect(()=>{\n        if (password.length > 4 && password.length < 20){\n            setCorrectPassword(true)\n        }else{\n            setCorrectPassword(false)\n        }\n      },[password])\n\n      useEffect(()=>{\n        if (email.length > 4 && email.length < 20){\n            setCorrectEmail(true)\n            // setCookie('name', \"JWT eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ0b2tlbl90eXBlIjoiYWNjZXNzIiwiZXhwIjoxNjc1OTU0NTAzLCJqdGkiOiI4N2NlYjIwNTg2YWM0YzUyYTM0MGYzMTk3ODIyZTZiMiIsInVzZXJfaWQiOjF9.cQsQQW6FS2nrN2oR7mQ2AgyH_WJ7lfrmP7KitisQz2Q\", { path: '/'});\n        }\n        else{\n            setCorrectEmail(false)\n        }\n      },[email])\n\n      const post = () =>{\n        proxyPOST(API_AUTH, {\n            \"username\": email,\n            \"password\": password,\n          }).then((response, reject)=>{\n            if (response.status === 200){\n                console.log(response.data.access)\n            }  \n          })\n          .catch(() =>{\n            setErrorResponse(true)\n          })\n      }\n   return (\n\n    <div className=\"authorization\">\n        <img src={logo} alt='logo' className='authorization__logo'/>\n        <h2 className='authorization__title'>Sign in to 5S Control</h2>\n        <div className='authorization__container'>\n            <label>Email</label>\n            <input \n                type='text' \n                placeholder='Enter Email' \n                className='authorization__input'\n                value={email} \n                onChange={(e)=>setEmail(e.target.value)}\n            />\n            {!correctEmail && <span className='authorization__error'>Email isn't correct!</span>}\n            <label>Password</label>\n            <input \n                type='password' \n                className='authorization__input' \n                placeholder='Enter Password'\n                value={password} \n                onChange={(e)=>setPassword(e.target.value)}\n            />\n            {!correctPassword && <span className='authorization__error'>This field is required</span>}\n            {errorResponse && <span className='authorization__error'>Incorrect email or password. Please, try again.</span>}\n            <button className='authorization__button' onClick={post}>Log In</button>\n        </div>\n\n    </div>\n   ) \n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}