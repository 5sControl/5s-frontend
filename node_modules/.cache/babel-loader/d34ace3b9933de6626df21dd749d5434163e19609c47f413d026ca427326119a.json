{"ast":null,"code":"import _slicedToArray from\"/Users/user/Desktop/git/reactapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Fragment,useEffect,useState}from'react';import'./Company.scss';import{proxy}from'../../../api/proxy';import{API_USERLIST}from'../../../api/api';import{useCookies}from\"react-cookie\";import{AddUser}from'./components/addUser';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var CompanyComponent=function CompanyComponent(){var _useCookies=useCookies(['token']),_useCookies2=_slicedToArray(_useCookies,2),cookies=_useCookies2[0],setCookie=_useCookies2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userList=_useState2[0],setUserList=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isAddAccount=_useState4[0],setIsAddAccount=_useState4[1];useEffect(function(){proxy(API_USERLIST,\"GET\",{'Authorization':cookies.token})//   axios.get(API_USERLIST,{\n//     headers: {\n//       'Authorization': cookies.token\n//     },\n//   })\n.then(function(res){console.log(res.data.results);setUserList(res.data.results);});},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"company\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Company\"}),/*#__PURE__*/_jsx(\"div\",{className:\"company__name\",children:/*#__PURE__*/_jsx(\"h3\",{children:\"Taqtile\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"company__accounts_tab\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Accounts\"}),/*#__PURE__*/_jsx(\"button\",{className:\"company__add\",onClick:function onClick(){return setIsAddAccount(true);},children:\"+ Add Account\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"company__accounts_container\",children:userList.map(function(user){return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"company__user\",children:[/*#__PURE__*/_jsx(\"span\",{children:user.username}),user.id===1?/*#__PURE__*/_jsx(\"div\",{className:\"company__user_owner\",children:\"Owner\"}):/*#__PURE__*/_jsx(\"div\",{className:\"company__user_worker\",children:\"Worker\"})]})},user.id);})}),isAddAccount&&/*#__PURE__*/_jsx(AddUser,{close:function close(){setIsAddAccount(false);}})]});};","map":{"version":3,"names":["Fragment","useEffect","useState","proxy","API_USERLIST","useCookies","AddUser","axios","CompanyComponent","cookies","setCookie","userList","setUserList","isAddAccount","setIsAddAccount","token","then","res","console","log","data","results","map","user","username","id"],"sources":["/Users/user/Desktop/git/reactapp/src/pages/company/Company/Company.jsx"],"sourcesContent":["import { Fragment, useEffect, useState } from 'react'\nimport './Company.scss'\nimport { proxy } from '../../../api/proxy'\nimport { API_USERLIST } from '../../../api/api'\n\nimport { useCookies } from \"react-cookie\"\nimport { AddUser } from './components/addUser'\nimport axios from 'axios'\n\nexport const CompanyComponent = () =>{\n\n    const [cookies, setCookie] = useCookies(['token']);\n\n    const [userList, setUserList] = useState([]);\n    const [isAddAccount, setIsAddAccount] = useState(false);\n\n    useEffect(() =>{\n\n        proxy(API_USERLIST, \"GET\", {\n            'Authorization': cookies.token\n          })\n        //   axios.get(API_USERLIST,{\n        //     headers: {\n        //       'Authorization': cookies.token\n        //     },\n        //   })\n          .then(res => {\n            console.log(res.data.results)\n            setUserList(res.data.results)\n        })\n    },[])\n\n    return(\n        <div className='company'>\n            <h2>Company</h2>\n            <div className='company__name'>\n                <h3>Taqtile</h3>\n            </div>\n            <div className='company__accounts_tab'>\n                <h2>Accounts</h2>\n                <button className='company__add' onClick={() => setIsAddAccount(true)}>+ Add Account</button>\n            </div>\n\n            <div className='company__accounts_container'>\n                {userList.map((user) => \n                <Fragment key={user.id}>\n                    <div className='company__user'>\n                        <span>{user.username}</span>\n                        {user.id === 1 ?\n                        <div className='company__user_owner'>Owner</div>\n                        :\n                        <div className='company__user_worker'>Worker</div>\n                        }\n                        \n                    </div>\n                </Fragment>\n                )}\n            </div>\n            {isAddAccount && <AddUser close={() =>{setIsAddAccount(false)}}/>}\n        </div>\n    )\n}"],"mappings":"sHAAA,OAASA,QAAQ,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CACrD,MAAO,gBAAgB,CACvB,OAASC,KAAK,KAAQ,oBAAoB,CAC1C,OAASC,YAAY,KAAQ,kBAAkB,CAE/C,OAASC,UAAU,KAAQ,cAAc,CACzC,OAASC,OAAO,KAAQ,sBAAsB,CAC9C,MAAOC,MAAK,KAAM,OAAO,yFAEzB,MAAO,IAAMC,iBAAgB,CAAG,QAAnBA,iBAAgB,EAAQ,CAEjC,gBAA6BH,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,4CAA3CI,OAAO,iBAAEC,SAAS,iBAEzB,cAAgCR,QAAQ,CAAC,EAAE,CAAC,wCAArCS,QAAQ,eAAEC,WAAW,eAC5B,eAAwCV,QAAQ,CAAC,KAAK,CAAC,yCAAhDW,YAAY,eAAEC,eAAe,eAEpCb,SAAS,CAAC,UAAK,CAEXE,KAAK,CAACC,YAAY,CAAE,KAAK,CAAE,CACvB,eAAe,CAAEK,OAAO,CAACM,KAC3B,CAAC,CACH;AACA;AACA;AACA;AACA;AAAA,CACGC,IAAI,CAAC,SAAAC,GAAG,CAAI,CACXC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACG,IAAI,CAACC,OAAO,CAAC,CAC7BT,WAAW,CAACK,GAAG,CAACG,IAAI,CAACC,OAAO,CAAC,CACjC,CAAC,CAAC,CACN,CAAC,CAAC,EAAE,CAAC,CAEL,mBACI,aAAK,SAAS,CAAC,SAAS,wBACpB,oBAAI,SAAO,EAAK,cAChB,YAAK,SAAS,CAAC,eAAe,uBAC1B,oBAAI,SAAO,EAAK,EACd,cACN,aAAK,SAAS,CAAC,uBAAuB,wBAClC,oBAAI,UAAQ,EAAK,cACjB,eAAQ,SAAS,CAAC,cAAc,CAAC,OAAO,CAAE,yBAAMP,gBAAe,CAAC,IAAI,CAAC,EAAC,UAAC,eAAa,EAAS,GAC3F,cAEN,YAAK,SAAS,CAAC,6BAA6B,UACvCH,QAAQ,CAACW,GAAG,CAAC,SAACC,IAAI,qBACnB,KAAC,QAAQ,wBACL,aAAK,SAAS,CAAC,eAAe,wBAC1B,sBAAOA,IAAI,CAACC,QAAQ,EAAQ,CAC3BD,IAAI,CAACE,EAAE,GAAK,CAAC,cACd,YAAK,SAAS,CAAC,qBAAqB,UAAC,OAAK,EAAM,cAEhD,YAAK,SAAS,CAAC,sBAAsB,UAAC,QAAM,EAAM,GAGhD,EATKF,IAAI,CAACE,EAAE,CAUX,GACV,EACC,CACLZ,YAAY,eAAI,KAAC,OAAO,EAAC,KAAK,CAAE,gBAAK,CAACC,eAAe,CAAC,KAAK,CAAC,EAAE,EAAE,GAC/D,CAEd,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}