{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/git/reactapp/src/pages/dashboard/Dashboard.jsx\",\n  _s = $RefreshSig$();\n/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-unused-vars */\nimport './Dashboard.scss';\nimport { useEffect, useState } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { API_DASHBOARD_PAGE, API_DASHBOARD_PAGE_I } from '../../api/api.js';\nimport { proxy } from '../../api/proxy';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { getIsInternet } from '../../functions/getURL';\nimport { Reports } from '../../components/Reports';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Dashboard() {\n  _s();\n  const [data, setData] = useState(false);\n  const [cookies, setCookie] = useCookies(['token']);\n  const paginator = page => {\n    if (getIsInternet(window.location.host)) {\n      proxy(API_DASHBOARD_PAGE_I(page), \"GET\", {\n        'Authorization': cookies.token\n      }).then(el => {\n        console.log(el);\n        el.data.detail === 'Authentication credentials were not provided.' || el.data.detail === \"Given token not valid for any token type\" ? setData(0) : setData(el.data);\n      });\n    } else {\n      axios.get(`http://${window.location.hostname}${API_DASHBOARD_PAGE(page)}`, {\n        headers: {\n          'Authorization': cookies.token\n        }\n      }).then(el => {\n        console.log(el);\n        el.data.detail === 'Authentication credentials were not provided.' || el.data.detail === \"Given token not valid for any token type\" ? setData(0) : setData(el.data);\n      });\n    }\n  };\n  useEffect(() => {\n    paginator(1);\n  }, []);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!!data && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"dashboard__count\",\n          children: [data.count, \"\\xA0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"dashboard__span\",\n          children: \" reports generated today\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Reports\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Reports, {\n        data: data,\n        paginator: e => paginator(e)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }, this), data === 0 && /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"dashboard__noauth\",\n      children: [\"Log in to view the reports\", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/company\",\n        children: \" Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Dashboard, \"SpSBeVUpw3baV2CJIEsw5JEsuqs=\", false, function () {\n  return [useCookies];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["useEffect","useState","useCookies","API_DASHBOARD_PAGE","API_DASHBOARD_PAGE_I","proxy","axios","Link","getIsInternet","Reports","Dashboard","data","setData","cookies","setCookie","paginator","page","window","location","host","token","then","el","console","log","detail","get","hostname","headers","count","e"],"sources":["/Users/user/Desktop/git/reactapp/src/pages/dashboard/Dashboard.jsx"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-unused-vars */\nimport './Dashboard.scss';\nimport { useEffect, useState } from 'react';\n\nimport { useCookies } from 'react-cookie';\n\nimport { API_DASHBOARD_PAGE, API_DASHBOARD_PAGE_I} from '../../api/api.js';\n\nimport { proxy } from '../../api/proxy';\nimport axios from 'axios';\n\nimport { Link } from 'react-router-dom';\nimport { getIsInternet } from '../../functions/getURL';\nimport { Reports } from '../../components/Reports';\n\nfunction Dashboard() {\n\n  const [data, setData] = useState(false)\n  \n  const [cookies, setCookie] = useCookies(['token']);\n  \n\n  const paginator = (page) =>{\n    if (getIsInternet(window.location.host)){\n\n      proxy(API_DASHBOARD_PAGE_I(page), \"GET\", {\n        'Authorization': cookies.token\n      })\n        .then(el => {\n          console.log(el)\n            el.data.detail === 'Authentication credentials were not provided.' || el.data.detail === \"Given token not valid for any token type\" ? setData(0) : setData(el.data)\n          })\n    }\n    else{\n      axios.get(`http://${window.location.hostname}${API_DASHBOARD_PAGE(page)}`,{\n            headers: {\n              'Authorization': cookies.token\n            },\n          })\n        .then(el => {\n          console.log(el)\n            el.data.detail === 'Authentication credentials were not provided.' || el.data.detail === \"Given token not valid for any token type\" ? setData(0) : setData(el.data)\n          })\n      }\n  }\n  useEffect(() =>{\n    paginator(1)\n  },[])\n  \n  return (\n    <>\n        {\n        !!data  &&  \n          <div className='dashboard'>\n            <h1>Dashboard</h1>\n            <h2>\n              <span className='dashboard__count'>{data.count}&nbsp;</span>\n              <span className='dashboard__span'> reports generated today</span>\n            </h2>\n            <h3>Reports</h3>\n            <Reports \n              data={data}\n              paginator={(e) =>paginator(e)}\n              />\n          </div>\n     }\n     {\n      data === 0 && \n      <h2 className='dashboard__noauth'>\n        Log in to view the reports\n        <Link to ='/company'> Log In</Link>\n      </h2>\n     }\n    \n    </>\n   \n  );\n}\n\nexport default Dashboard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}