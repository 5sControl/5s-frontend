{"ast":null,"code":"import _slicedToArray from\"/Users/user/Desktop/git/reactapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from'react';import{API_REGISTRATION}from'../../../../api/api';import'./addUser.scss';import axios from'axios';import{proxyPOST}from'../../../../api/proxy';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var AddUser=function AddUser(_ref){var close=_ref.close;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var registration=function registration(){//////////////////////////////////////////////////////////////////////CHANGE/////////////////////////////////////////////////////////////////////////////////////////////////////////\naxios.post(\"https://5scontrol.pl/proxy_to_ngrok\",{url:API_REGISTRATION,method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({username:email,password:password,repeat_password:password})})// proxyPOST(API_REGISTRATION, {\n//     username: email,\n//       password: password,\n//       repeat_password: password\n//   })\n.then(function(res){console.log(res);if(res.data.message===\"User has been successfully created\"){close();}});};return/*#__PURE__*/_jsx(\"div\",{className:\"add-user\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"add-user__container\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Adding account\"}),/*#__PURE__*/_jsx(\"h5\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Set email that will be used to log in.\"}),/*#__PURE__*/_jsx(\"input\",{className:\"add-user__input\",type:\"text\",placeholder:\"Enter Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);}}),/*#__PURE__*/_jsx(\"h5\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Set password that will be used to log in.\"}),/*#__PURE__*/_jsx(\"input\",{className:\"add-user__input\",type:\"password\",placeholder:\"Enter Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"h5\",{children:\"Role\"}),/*#__PURE__*/_jsx(\"label\",{children:\"Select a role of the account. Not today.\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Worker\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-user__footer\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"add-user__cancel\",onClick:close,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{className:\"add-user__create\",onClick:registration,children:\"Create\"})]})]})});};","map":{"version":3,"names":["useState","API_REGISTRATION","axios","proxyPOST","AddUser","close","email","setEmail","password","setPassword","registration","post","url","method","headers","body","JSON","stringify","username","repeat_password","then","res","console","log","data","message","e","target","value"],"sources":["/Users/user/Desktop/git/reactapp/src/pages/company/Company/components/addUser.jsx"],"sourcesContent":["import { useState } from 'react'\nimport { API_REGISTRATION } from '../../../../api/api'\nimport './addUser.scss'\nimport axios from 'axios'\nimport { proxyPOST } from '../../../../api/proxy'\nexport const AddUser = ({close}) =>{\n    const [email, setEmail] = useState('')\n    const [password, setPassword] = useState('')\n\n    const registration = () =>{\n        \n//////////////////////////////////////////////////////////////////////CHANGE/////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n        axios.post(\"https://5scontrol.pl/proxy_to_ngrok\",{\n            url: API_REGISTRATION,\n            method:\"POST\",\n            headers:{\n              \"Content-Type\": \"application/json\"\n            },\n            body:JSON.stringify({\n              username: email,\n              password: password,\n              repeat_password: password\n            })\n        })\n        // proxyPOST(API_REGISTRATION, {\n        //     username: email,\n        //       password: password,\n        //       repeat_password: password\n        //   })\n        .then(res => {\n            console.log(res)\n            if(res.data.message === \"User has been successfully created\"){\n                close()\n            }\n        })\n    }\n    \n    return(\n        <div className=\"add-user\">\n           <div className='add-user__container'>\n                <h3>Adding account</h3>\n                <h5>Email</h5>\n                <label>Set email that will be used to log in.</label>\n                <input \n                    className='add-user__input'\n                    type=\"text\" \n                    placeholder=\"Enter Email\"\n                    value={email}\n                    onChange={(e)=>setEmail(e.target.value)}\n                />\n                <h5>Password</h5>\n                <label>Set password that will be used to log in.</label>\n                <input \n                    className='add-user__input'\n                    type=\"password\" \n                    placeholder=\"Enter Password\"\n                    value={password}\n                    onChange={(e)=>setPassword(e.target.value)}\n                />\n                <h5>Role</h5>\n                <label>Select a role of the account. Not today.</label>\n                <h3>Worker</h3>\n                <div className='add-user__footer'>\n                    <button className='add-user__cancel' onClick={close}>Cancel</button>\n                    <button className='add-user__create' onClick={registration}>Create</button>\n                </div>\n           </div>\n        </div>\n    )\n}"],"mappings":"sHAAA,OAASA,QAAQ,KAAQ,OAAO,CAChC,OAASC,gBAAgB,KAAQ,qBAAqB,CACtD,MAAO,gBAAgB,CACvB,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,SAAS,KAAQ,uBAAuB,yFACjD,MAAO,IAAMC,QAAO,CAAG,QAAVA,QAAO,MAAe,IAAVC,MAAK,MAALA,KAAK,CAC1B,cAA0BL,QAAQ,CAAC,EAAE,CAAC,wCAA/BM,KAAK,eAAEC,QAAQ,eACtB,eAAgCP,QAAQ,CAAC,EAAE,CAAC,yCAArCQ,QAAQ,eAAEC,WAAW,eAE5B,GAAMC,aAAY,CAAG,QAAfA,aAAY,EAAQ,CAE9B;AAEQR,KAAK,CAACS,IAAI,CAAC,qCAAqC,CAAC,CAC7CC,GAAG,CAAEX,gBAAgB,CACrBY,MAAM,CAAC,MAAM,CACbC,OAAO,CAAC,CACN,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAACC,IAAI,CAACC,SAAS,CAAC,CAClBC,QAAQ,CAAEZ,KAAK,CACfE,QAAQ,CAAEA,QAAQ,CAClBW,eAAe,CAAEX,QACnB,CAAC,CACL,CAAC,CACD;AACA;AACA;AACA;AACA;AAAA,CACCY,IAAI,CAAC,SAAAC,GAAG,CAAI,CACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,CAChB,GAAGA,GAAG,CAACG,IAAI,CAACC,OAAO,GAAK,oCAAoC,CAAC,CACzDpB,KAAK,EAAE,CACX,CACJ,CAAC,CAAC,CACN,CAAC,CAED,mBACI,YAAK,SAAS,CAAC,UAAU,uBACtB,aAAK,SAAS,CAAC,qBAAqB,wBAC/B,oBAAI,gBAAc,EAAK,cACvB,oBAAI,OAAK,EAAK,cACd,uBAAO,wCAAsC,EAAQ,cACrD,cACI,SAAS,CAAC,iBAAiB,CAC3B,IAAI,CAAC,MAAM,CACX,WAAW,CAAC,aAAa,CACzB,KAAK,CAAEC,KAAM,CACb,QAAQ,CAAE,kBAACoB,CAAC,QAAGnB,SAAQ,CAACmB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAC1C,cACF,oBAAI,UAAQ,EAAK,cACjB,uBAAO,2CAAyC,EAAQ,cACxD,cACI,SAAS,CAAC,iBAAiB,CAC3B,IAAI,CAAC,UAAU,CACf,WAAW,CAAC,gBAAgB,CAC5B,KAAK,CAAEpB,QAAS,CAChB,QAAQ,CAAE,kBAACkB,CAAC,QAAGjB,YAAW,CAACiB,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAC7C,cACF,oBAAI,MAAI,EAAK,cACb,uBAAO,0CAAwC,EAAQ,cACvD,oBAAI,QAAM,EAAK,cACf,aAAK,SAAS,CAAC,kBAAkB,wBAC7B,eAAQ,SAAS,CAAC,kBAAkB,CAAC,OAAO,CAAEvB,KAAM,UAAC,QAAM,EAAS,cACpE,eAAQ,SAAS,CAAC,kBAAkB,CAAC,OAAO,CAAEK,YAAa,UAAC,QAAM,EAAS,GACzE,GACL,EACH,CAEd,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}