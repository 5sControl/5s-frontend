{"ast":null,"code":"import _slicedToArray from\"/Users/user/Desktop/git/reactapp/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable react-hooks/exhaustive-deps */ /* eslint-disable no-unused-vars */import'./Algorithm.scss';import{useEffect,useState}from'react';import{getIsInternet}from'../../functions/getURL';import{API_ALGORITHM_I,API_ALGORITHM,API_CAMERA}from'../../api/api';import axios from'axios';import{proxy}from'../../api/proxy';import{useCookies}from'react-cookie';import{AlgorithmList}from'../../components/algorithmList';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Algorithm=function Algorithm(){var _useCookies=useCookies(['token']),_useCookies2=_slicedToArray(_useCookies,2),cookies=_useCookies2[0],setCookie=_useCookies2[1];var _useState=useState({}),_useState2=_slicedToArray(_useState,2),algorithmList=_useState2[0],setAlgorithmList=_useState2[1];useEffect(function(){// axios.get(`http://192.168.1.101${API_CAMERA}`)\nif(getIsInternet(window.location.host)){var buf=new Array(5).fill(4).map(function(el,ind){return{id:ind+1,isSelected:false,ip:ind===1?'192.168.1.160':'192.168.1.161'};});}else{axios.get(\"http://\".concat(window.location.hostname).concat(API_CAMERA)).then(function(response){var buf=response.map(function(el,ind){return{id:ind+1,isSelected:false,ip:ind===response.data.ip};});});}if(getIsInternet(window.location.host)){proxy(API_ALGORITHM_I,\"GET\",{'Authorization':cookies.token}).then(function(res){setAlgorithmList(res.data);console.log(res.data);});}else{axios.get(\"http://\".concat(window.location.hostname).concat(API_ALGORITHM),{headers:{'Authorization':cookies.token}}).then(function(res){console.log(res.data.results);});}},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Algorithms\"}),/*#__PURE__*/_jsx(AlgorithmList,{algorithmList:algorithmList,algorithmPage:'algorithm'})]});};","map":{"version":3,"names":["useEffect","useState","getIsInternet","API_ALGORITHM_I","API_ALGORITHM","API_CAMERA","axios","proxy","useCookies","AlgorithmList","Algorithm","cookies","setCookie","algorithmList","setAlgorithmList","window","location","host","buf","Array","fill","map","el","ind","id","isSelected","ip","get","hostname","then","response","data","token","res","console","log","headers","results"],"sources":["/Users/user/Desktop/git/reactapp/src/pages/algorithm/Algorithm.jsx"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-unused-vars */\nimport './Algorithm.scss'\nimport {  useEffect, useState } from 'react'\nimport { getIsInternet } from '../../functions/getURL'\nimport { API_ALGORITHM_I, API_ALGORITHM, API_CAMERA } from '../../api/api'\n\n\nimport axios from 'axios';\nimport { proxy } from '../../api/proxy'\nimport { useCookies } from 'react-cookie'\nimport { AlgorithmList } from '../../components/algorithmList';\n\nexport const Algorithm = () =>{\n\n    const [cookies, setCookie] = useCookies(['token'])\n\n    const [algorithmList, setAlgorithmList] = useState({})\n\n    useEffect(() => {\n        // axios.get(`http://192.168.1.101${API_CAMERA}`)\n        \n        if (getIsInternet(window.location.host)) {\n            let buf = new Array(5).fill(4).map((el, ind)=>{return{\n                id:ind + 1,\n                isSelected:false,\n                ip:ind === 1 ? '192.168.1.160':'192.168.1.161'\n              }})\n        } \n        else{\n            axios.get(`http://${window.location.hostname}${API_CAMERA}`)\n                .then(response => {\n                    let buf = response.map((el, ind)=>{return{\n                        id:ind + 1,\n                        isSelected:false,\n                        ip:ind === response.data.ip\n                      }})\n            })\n        }\n     \n          if (getIsInternet(window.location.host)) {\n            proxy(API_ALGORITHM_I, \"GET\", {\n                'Authorization': cookies.token\n              })\n              .then(res => {\n                setAlgorithmList(res.data)\n                console.log(res.data)\n            })\n           }\n           else{\n            axios.get(`http://${window.location.hostname}${API_ALGORITHM}`,{\n                    headers: {\n                    'Authorization': cookies.token\n                    },\n                })\n                .then(res => {\n                    console.log(res.data.results)\n                })\n           }\n\n    },[])\n    \n    return (\n       <>\n       <h1>Algorithms</h1>\n       <AlgorithmList \n            algorithmList={algorithmList} \n            algorithmPage={'algorithm'}\n        />\n       </>\n    )\n}"],"mappings":"sHAAA,iDACA,mCACA,MAAO,kBAAkB,CACzB,OAAUA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC5C,OAASC,aAAa,KAAQ,wBAAwB,CACtD,OAASC,eAAe,CAAEC,aAAa,CAAEC,UAAU,KAAQ,eAAe,CAG1E,MAAOC,MAAK,KAAM,OAAO,CACzB,OAASC,KAAK,KAAQ,iBAAiB,CACvC,OAASC,UAAU,KAAQ,cAAc,CACzC,OAASC,aAAa,KAAQ,gCAAgC,CAAC,6IAE/D,MAAO,IAAMC,UAAS,CAAG,QAAZA,UAAS,EAAQ,CAE1B,gBAA6BF,UAAU,CAAC,CAAC,OAAO,CAAC,CAAC,4CAA3CG,OAAO,iBAAEC,SAAS,iBAEzB,cAA0CX,QAAQ,CAAC,CAAC,CAAC,CAAC,wCAA/CY,aAAa,eAAEC,gBAAgB,eAEtCd,SAAS,CAAC,UAAM,CACZ;AAEA,GAAIE,aAAa,CAACa,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC,CAAE,CACrC,GAAIC,IAAG,CAAG,GAAIC,MAAK,CAAC,CAAC,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CAACC,GAAG,CAAC,SAACC,EAAE,CAAEC,GAAG,CAAG,CAAC,MAAM,CACjDC,EAAE,CAACD,GAAG,CAAG,CAAC,CACVE,UAAU,CAAC,KAAK,CAChBC,EAAE,CAACH,GAAG,GAAK,CAAC,CAAG,eAAe,CAAC,eACjC,CAAC,EAAC,CAAC,CACT,CAAC,IACG,CACAjB,KAAK,CAACqB,GAAG,kBAAWZ,MAAM,CAACC,QAAQ,CAACY,QAAQ,SAAGvB,UAAU,EAAG,CACvDwB,IAAI,CAAC,SAAAC,QAAQ,CAAI,CACd,GAAIZ,IAAG,CAAGY,QAAQ,CAACT,GAAG,CAAC,SAACC,EAAE,CAAEC,GAAG,CAAG,CAAC,MAAM,CACrCC,EAAE,CAACD,GAAG,CAAG,CAAC,CACVE,UAAU,CAAC,KAAK,CAChBC,EAAE,CAACH,GAAG,GAAKO,QAAQ,CAACC,IAAI,CAACL,EAC3B,CAAC,EAAC,CAAC,CACb,CAAC,CAAC,CACN,CAEE,GAAIxB,aAAa,CAACa,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC,CAAE,CACvCV,KAAK,CAACJ,eAAe,CAAE,KAAK,CAAE,CAC1B,eAAe,CAAEQ,OAAO,CAACqB,KAC3B,CAAC,CAAC,CACDH,IAAI,CAAC,SAAAI,GAAG,CAAI,CACXnB,gBAAgB,CAACmB,GAAG,CAACF,IAAI,CAAC,CAC1BG,OAAO,CAACC,GAAG,CAACF,GAAG,CAACF,IAAI,CAAC,CACzB,CAAC,CAAC,CACH,CAAC,IACG,CACHzB,KAAK,CAACqB,GAAG,kBAAWZ,MAAM,CAACC,QAAQ,CAACY,QAAQ,SAAGxB,aAAa,EAAG,CACvDgC,OAAO,CAAE,CACT,eAAe,CAAEzB,OAAO,CAACqB,KACzB,CACJ,CAAC,CAAC,CACDH,IAAI,CAAC,SAAAI,GAAG,CAAI,CACTC,OAAO,CAACC,GAAG,CAACF,GAAG,CAACF,IAAI,CAACM,OAAO,CAAC,CACjC,CAAC,CAAC,CACP,CAEP,CAAC,CAAC,EAAE,CAAC,CAEL,mBACG,wCACA,oBAAI,YAAU,EAAK,cACnB,KAAC,aAAa,EACT,aAAa,CAAExB,aAAc,CAC7B,aAAa,CAAE,WAAY,EAC7B,GACA,CAEV,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}