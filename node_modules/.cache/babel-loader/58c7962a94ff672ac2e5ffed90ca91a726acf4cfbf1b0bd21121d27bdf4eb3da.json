{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/git/reactapp/src/pages/dashboard/Dashboard.jsx\",\n  _s = $RefreshSig$();\n/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-unused-vars */\nimport './Dashboard.scss';\nimport { useEffect, useState } from 'react';\nimport { useCookies } from 'react-cookie';\nimport { API_URL, API_IMAGES, API_IMAGES_I, API_DASHBOARD_PAGE, API_DASHBOARD_PAGE_I } from '../../api/api.js';\nimport { Algorithm, Camera } from '../../assets/svg/SVGcomponent';\nimport { proxy } from '../../api/proxy';\nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\nimport { getIsInternet } from '../../functions/getURL';\nimport { Reports } from '../../components/Reports';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Dashboard() {\n  _s();\n  const [data, setData] = useState(false);\n  const [currentReport, setCurrentReport] = useState(false);\n  const [cookies, setCookie] = useCookies(['token']);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [fullImage, setFullImage] = useState(false);\n  const paginator = page => {\n    if (getIsInternet(window.location.host)) {\n      proxy(API_DASHBOARD_PAGE_I(page), \"GET\", {\n        'Authorization': cookies.token\n      }).then(el => {\n        console.log(el);\n        el.data.detail === 'Authentication credentials were not provided.' || el.data.detail === \"Given token not valid for any token type\" ? setData(0) : setData(el.data);\n      });\n    } else {\n      axios.get(`http://${window.location.hostname}${API_DASHBOARD_PAGE(page)}`, {\n        headers: {\n          'Authorization': cookies.token\n        }\n      }).then(el => {\n        console.log(el);\n        el.data.detail === 'Authentication credentials were not provided.' || el.data.detail === \"Given token not valid for any token type\" ? setData(0) : setData(el.data);\n      });\n    }\n  };\n  useEffect(() => {\n    paginator(currentPage);\n  }, [currentPage]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [!!data && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Dashboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"dashboard__count\",\n          children: [data.count, \"\\xA0\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"dashboard__span\",\n          children: \" reports generated today\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Reports\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(Reports, {\n        data: data,\n        currentPage: currentPage\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }, this), data === 0 && /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"dashboard__noauth\",\n      children: [\"Log in to view the reports\", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/company\",\n        children: \" Log In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), fullImage && /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard__fullimage\",\n        onClick: () => setFullImage(false),\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: getIsInternet(window.location.hostname) ? `${API_IMAGES_I + currentReport.image}` : `${API_IMAGES + currentReport.image}`,\n          alt: \"report img\",\n          className: \"dashboard__fullimage_image\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false)]\n  }, void 0, true);\n}\n_s(Dashboard, \"1U+fzwE8zw37to5FKdsG6waS6vU=\", false, function () {\n  return [useCookies];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["useEffect","useState","useCookies","API_URL","API_IMAGES","API_IMAGES_I","API_DASHBOARD_PAGE","API_DASHBOARD_PAGE_I","Algorithm","Camera","proxy","axios","Link","getIsInternet","Reports","Dashboard","data","setData","currentReport","setCurrentReport","cookies","setCookie","currentPage","setCurrentPage","fullImage","setFullImage","paginator","page","window","location","host","token","then","el","console","log","detail","get","hostname","headers","count","image"],"sources":["/Users/user/Desktop/git/reactapp/src/pages/dashboard/Dashboard.jsx"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\n/* eslint-disable no-unused-vars */\nimport './Dashboard.scss';\nimport { useEffect, useState } from 'react';\n\nimport { useCookies } from 'react-cookie';\n\nimport { API_URL, API_IMAGES,API_IMAGES_I, API_DASHBOARD_PAGE, API_DASHBOARD_PAGE_I} from '../../api/api.js';\nimport { Algorithm, Camera } from '../../assets/svg/SVGcomponent';\nimport { proxy } from '../../api/proxy';\nimport axios from 'axios';\n\nimport { Link } from 'react-router-dom';\nimport { getIsInternet } from '../../functions/getURL';\nimport { Reports } from '../../components/Reports';\n\nfunction Dashboard() {\n\n  const [data, setData] = useState(false)\n  const [currentReport, setCurrentReport] = useState(false)\n  const [cookies, setCookie] = useCookies(['token']);\n  const [currentPage, setCurrentPage] = useState(1)\n\n  const [fullImage, setFullImage] = useState(false)\n\n  const paginator = (page) =>{\n    if (getIsInternet(window.location.host)){\n\n      proxy(API_DASHBOARD_PAGE_I(page), \"GET\", {\n        'Authorization': cookies.token\n      })\n        .then(el => {\n          console.log(el)\n            el.data.detail === 'Authentication credentials were not provided.' || el.data.detail === \"Given token not valid for any token type\" ? setData(0) : setData(el.data)\n          })\n    }\n    else{\n      axios.get(`http://${window.location.hostname}${API_DASHBOARD_PAGE(page)}`,{\n            headers: {\n              'Authorization': cookies.token\n            },\n          })\n        .then(el => {\n          console.log(el)\n            el.data.detail === 'Authentication credentials were not provided.' || el.data.detail === \"Given token not valid for any token type\" ? setData(0) : setData(el.data)\n          })\n      }\n  }\n  \n  useEffect(()=>{\n    paginator(currentPage)\n  },[currentPage])\n  \n  return (\n    <>\n        {\n        !!data  &&  \n          <div className='dashboard'>\n            <h1>Dashboard</h1>\n            <h2>\n              <span className='dashboard__count'>{data.count}&nbsp;</span>\n              <span className='dashboard__span'> reports generated today</span>\n            </h2>\n            <h3>Reports</h3>\n            <Reports \n              data={data}\n              currentPage={currentPage}/>\n          </div>\n     }\n     {\n      data === 0 && \n      <h2 className='dashboard__noauth'>\n        Log in to view the reports\n        <Link to ='/company'> Log In</Link>\n      </h2>\n     }\n     {\n      fullImage && <>\n        <div className='dashboard__fullimage' onClick={()=>setFullImage(false)}>\n        <img \n            src={getIsInternet(window.location.hostname) ? \n              `${API_IMAGES_I + currentReport.image}` : \n              `${API_IMAGES + currentReport.image}`} \n              alt='report img' \n              className='dashboard__fullimage_image'\n            />\n        </div>\n      </>\n     }\n    </>\n   \n  );\n}\n\nexport default Dashboard;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}